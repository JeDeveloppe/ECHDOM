{% extends 'site/base.html.twig' %}

{% block title %}Mon bien à l'échange{% endblock %}

{% block nav %}
   {% include "site/user/_nav_user.html.twig" %}
{% endblock %}

{% block body %}
    <div class="container my-5">

        <!-- Titre et sous-titre de la page -->
        <div class="row mb-4 pt-5">
            <div class="col-12 text-center pt-5">
                <h1 class="fw-bold text-primary display-4">Mon bien à l'échange</h1>
                <p class="lead text-muted">
                    Renseignez les informations de votre bien.
                </p>
            </div>
        </div>

        <!-- Affichage des messages flash (succès, erreur, etc.) -->
        {% for message in app.flashes('success') %}
            <div class="alert alert-success rounded-3 shadow-sm mb-4">
                {{ message }}
            </div>
        {% endfor %}

        <!-- Conteneur du formulaire -->
        <div class="card shadow-lg border-0 rounded-4">
            <div class="card-body p-4 p-md-5">

                <!-- Début du formulaire -->
                {{ form_start(form) }}

                <!-- Section 1 : Informations principales -->
                <h5 class="fw-bold text-dark mb-4">Informations principales</h5>
                <div class="row g-3 mb-5">
                    <div class="col-md-6">
                        {{ form_row(form.type) }}
                    </div>
                    <div class="col-md-6">
                        {{ form_row(form.surface) }}
                    </div>
                    <div class="col-md-4">
                        {{ form_row(form.rooms) }}
                    </div>
                    <div class="col-md-4">
                        {{ form_row(form.bedrooms) }}
                    </div>
                    <div class="col-md-4">
                        {{ form_row(form.bathrooms) }}
                    </div>
                    <div class="col-12 d-flex flex-wrap align-items-center">
                        <div class="col-md-4">
                            {{ form_row(form.floor) }}
                        </div>
                        <div class="col-md-4 text-center">
                            {{ form_row(form.hasElevator) }}
                        </div>
                        <div class="col-md-4 text-center">
                            {{ form_row(form.hasBalcony) }}
                        </div>
                    </div>
                    <div class="col-md-6">
                        {{ form_row(form.typeOfGarage) }}
                    </div>
                    <div class="col-md-6">
                        {{ form_row(form.typeOfParking) }}
                    </div>
                </div>

                <hr class="my-4">

                <!-- Section 2 : Équipements -->
                <h5 class="fw-bold text-dark mb-4">Équipements</h5>
                <div class="row mb-5">
                    <div class="col-12">
                        <div class="card bg-light border-0 p-3">
                            <div class="row row-cols-1 row-cols-sm-2 row-cols-lg-3 g-2">
                                {% for equipment in form.equipments %}
                                    <div class="col">
                                        {{ form_row(equipment, {
                                            'label_attr': {
                                                'class': 'form-check-label me-2'
                                            }
                                        }) }}
                                    </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>

                <hr class="my-4">

                <!-- Section 3 : Description et règles -->
                <h5 class="fw-bold text-dark mb-4">Description et règles</h5>
                <div class="row g-3 mb-5">
                    <div class="col-12">
                        {{ form_row(form.description) }}
                    </div>
                    <div class="12">
                        {{ form_row(form.otherRules) }}
                    </div>
                </div>

                <!-- Bouton de soumission -->
                <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                    <button type="submit" class="btn btn-primary btn-lg rounded-pill shadow px-5">
                        {% if isEditMode %}
                            <i class="fas fa-pen-to-square me-2"></i> Mettre à jour mon bien
                        {% else %}
                            <i class="fas fa-plus-circle me-2"></i> Ajouter mon bien
                        {% endif %}
                    </button>
                </div>

                <!-- Fin du formulaire -->
                {{ form_end(form) }}

            </div>
        </div>
    </div>
{% endblock %}
